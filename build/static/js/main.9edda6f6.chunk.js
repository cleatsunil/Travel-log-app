(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){e.exports=n(32)},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=(n(27),n(9)),i=n(5),u=n.n(i),s=n(7),m=n(6),p=n(12),d=n(21),h="localhost"===window.location.hostname?"https://localhost:1337":"https://cleat-travel-log-app.herokuapp.com/";function f(){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("".concat(h,"/api/logs")),e.next=3,t;case 3:return e.abrupt("return",e.sent.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(t){var n,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiKey,delete t.apiKey,e.next=4,fetch("".concat(h,"/api/logs"),{method:"POST",headers:{"Content-Type":"application/json","X-API-KEY":n},body:JSON.stringify(t)});case 4:return a=e.sent,e.next=7,a.json();case 7:if(r=e.sent,!a.ok){e.next=10;break}return e.abrupt("return",r);case 10:throw(c=new Error(r.message)).response=r,c;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){var t=e.location,n=e.onClose,c=Object(d.a)(),l=c.register,o=c.handleSubmit,i=Object(a.useState)(!1),p=Object(m.a)(i,2),h=p[0],f=p[1],g=Object(a.useState)(""),E=Object(m.a)(g,2),y=E[0],O=E[1],v=function(){var e=Object(s.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),a.latitude=t.latitude,a.longitude=t.longitude,e.next=6,b(a);case 6:r=e.sent,console.log(r),n(),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),O(e.t0.message),f(!1);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:o(v),className:"entry-form"},y?r.a.createElement("h3",{className:"error"},y):null,r.a.createElement("label",{htmlfor:"apiKey"},"API KEY"),r.a.createElement("input",{type:"password",name:"apiKey",requried:!0,ref:l}),r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{name:"title",requried:!0,ref:l}),r.a.createElement("label",{htmlFor:"comments"},"Comments"),r.a.createElement("textarea",{name:"comments",rows:3,ref:l}),r.a.createElement("label",{htmlFor:"image"},"Image"),r.a.createElement("input",{name:"image",ref:l}),r.a.createElement("label",{htmlFor:"visitedOn"},"VisitedDate"),r.a.createElement("input",{name:"visitedOn",type:"date",ref:l}),r.a.createElement("button",{disabled:h}," ",h?"Loading...":"Create Entry"," "))},O=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)({}),l=Object(m.a)(c,2),i=l[0],d=l[1],h=Object(a.useState)(null),g=Object(m.a)(h,2),b=g[0],E=g[1],O=Object(a.useState)({width:"100vw",height:"100vh",latitude:18.922,longitude:72.8347,zoom:6}),v=Object(m.a)(O,2),j=v[0],w=v[1],k=function(){var e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){k()}),[]);return a.createElement(p.c,Object.assign({},j,{mapStyle:"mapbox://styles/sunilgeorgev/ckdsobltt14ya19uhaywi563e",mapboxApiAccessToken:"pk.eyJ1Ijoic3VuaWxnZW9yZ2V2IiwiYSI6ImNrOGl0ZHI4eTA0ZWYzbG8wMnluY2cwN2EifQ.jVDbJU0PTK-CltYxxqZing",onViewportChange:function(e){return w(e)},onDblClick:function(e){var t=Object(m.a)(e.lngLat,2),n=t[0],a=t[1];E({latitude:a,longitude:n})}})," ",n.map((function(e){return a.createElement(a.Fragment,{key:e._id},a.createElement(p.a,{latitude:e.latitude,longitude:e.longitude},a.createElement("div",{onClick:function(){return d(Object(o.a)({},e._id,!0))}},a.createElement("img",{className:"marker",style:{height:"".concat(6*j.zoom,"px"),width:"".concat(6*j.zoom,"px")},src:"https://i.imgur.com/y0G5YTX.png",alt:"marker"}))),i[e._id]?a.createElement(p.b,{latitude:e.latitude,longitude:e.longitude,dynamicPosition:!0,closeButton:!0,closeOnClick:!1,onClose:function(){return d({})},anchor:"top"},a.createElement("div",{className:"popup"},a.createElement("h3",null,e.title),a.createElement("p",null,e.comments),a.createElement("small",null,"Visited On :",new Date(e.visitedOn).toLocaleDateString()),e.image&&a.createElement("img",{src:e.image,alt:e.title}))):null)})),b?a.createElement(a.Fragment,null,a.createElement(p.a,{latitude:b.latitude,longitude:b.longitude},a.createElement("div",null,a.createElement("img",{className:"marker",style:{height:"".concat(6*j.zoom,"px"),width:"".concat(6*j.zoom,"px")},src:"https://i.imgur.com/y0G5YTX.png",alt:"marker"}))),a.createElement(p.b,{latitude:b.latitude,longitude:b.longitude,dynamicPosition:!0,closeButton:!0,closeOnClick:!1,onClose:function(){return E(null)},anchor:"top"},a.createElement("div",{className:"popup"},a.createElement(y,{onClose:function(){E(null),k()},location:b})))):null)};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.9edda6f6.chunk.js.map